{"code":"!function(t){var r={};function e(s){if(r[s])return r[s].exports;var n=r[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,e),n.l=!0,n.exports}e.m=t,e.c=r,e.d=function(t,r,s){e.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:s})},e.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},e.t=function(t,r){if(1&r&&(t=e(t)),8&r)return t;if(4&r&&\"object\"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(e.r(s),Object.defineProperty(s,\"default\",{enumerable:!0,value:t}),2&r&&\"string\"!=typeof t)for(var n in t)e.d(s,n,function(r){return t[r]}.bind(null,n));return s},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,\"a\",r),r},e.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},e.p=\"dist\",e(e.s=3)}([function(t,r,e){\"use strict\";const s=Object.prototype.toString;t.exports=function(t){return s.call(t).endsWith(\"Array]\")}},function(t,r,e){\"use strict\";var s=e(0),n=e.n(s);var i=function(t){if(!n()(t))throw new TypeError(\"input must be an array\");if(0===t.length)throw new TypeError(\"input must not be empty\");for(var r=t[0],e=1;e<t.length;e++)t[e]>r&&(r=t[e]);return r};var o=function(t){if(!n()(t))throw new TypeError(\"input must be an array\");if(0===t.length)throw new TypeError(\"input must not be empty\");for(var r=t[0],e=1;e<t.length;e++)t[e]<r&&(r=t[e]);return r};var a=function(t){var r,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!n()(t))throw new TypeError(\"input must be an array\");if(0===t.length)throw new TypeError(\"input must not be empty\");if(void 0!==e.output){if(!n()(e.output))throw new TypeError(\"output option must be an array if specified\");r=e.output}else r=new Array(t.length);var s=o(t),a=i(t);if(s===a)throw new RangeError(\"minimum and maximum input values are equal. Cannot rescale a constant array\");var h=e.min,u=void 0===h?e.autoMinMax?s:0:h,l=e.max,c=void 0===l?e.autoMinMax?a:1:l;if(u>=c)throw new RangeError(\"min option must be smaller than max option\");for(var m=(c-u)/(a-s),f=0;f<t.length;f++)r[f]=(t[f]-s)*m+u;return r};class h{constructor(t){var r,e,s,n,i,o,a,h,u,l=(t=L.checkMatrix(t)).clone(),c=l.rows,m=l.columns,f=new Array(c),g=1;for(r=0;r<c;r++)f[r]=r;for(h=new Array(c),e=0;e<m;e++){for(r=0;r<c;r++)h[r]=l.get(r,e);for(r=0;r<c;r++){for(u=Math.min(r,e),i=0,s=0;s<u;s++)i+=l.get(r,s)*h[s];h[r]-=i,l.set(r,e,h[r])}for(n=e,r=e+1;r<c;r++)Math.abs(h[r])>Math.abs(h[n])&&(n=r);if(n!==e){for(s=0;s<m;s++)o=l.get(n,s),l.set(n,s,l.get(e,s)),l.set(e,s,o);a=f[n],f[n]=f[e],f[e]=a,g=-g}if(e<c&&0!==l.get(e,e))for(r=e+1;r<c;r++)l.set(r,e,l.get(r,e)/l.get(e,e))}this.LU=l,this.pivotVector=f,this.pivotSign=g}isSingular(){for(var t=this.LU,r=t.columns,e=0;e<r;e++)if(0===t[e][e])return!0;return!1}solve(t){t=T.checkMatrix(t);var r=this.LU;if(r.rows!==t.rows)throw new Error(\"Invalid matrix dimensions\");if(this.isSingular())throw new Error(\"LU matrix is singular\");var e,s,n,i=t.columns,o=t.subMatrixRow(this.pivotVector,0,i-1),a=r.columns;for(n=0;n<a;n++)for(e=n+1;e<a;e++)for(s=0;s<i;s++)o[e][s]-=o[n][s]*r[e][n];for(n=a-1;n>=0;n--){for(s=0;s<i;s++)o[n][s]/=r[n][n];for(e=0;e<n;e++)for(s=0;s<i;s++)o[e][s]-=o[n][s]*r[e][n]}return o}get determinant(){var t=this.LU;if(!t.isSquare())throw new Error(\"Matrix must be square\");for(var r=this.pivotSign,e=t.columns,s=0;s<e;s++)r*=t[s][s];return r}get lowerTriangularMatrix(){for(var t=this.LU,r=t.rows,e=t.columns,s=new T(r,e),n=0;n<r;n++)for(var i=0;i<e;i++)s[n][i]=n>i?t[n][i]:n===i?1:0;return s}get upperTriangularMatrix(){for(var t=this.LU,r=t.rows,e=t.columns,s=new T(r,e),n=0;n<r;n++)for(var i=0;i<e;i++)s[n][i]=n<=i?t[n][i]:0;return s}get pivotPermutationVector(){return this.pivotVector.slice()}}function u(t,r){var e=0;return Math.abs(t)>Math.abs(r)?(e=r/t,Math.abs(t)*Math.sqrt(1+e*e)):0!==r?(e=t/r,Math.abs(r)*Math.sqrt(1+e*e)):0}function l(t,r,e){for(var s=new Array(t),n=0;n<t;n++){s[n]=new Array(r);for(var i=0;i<r;i++)s[n][i]=e}return s}class c{constructor(t,r={}){var e=(t=L.checkMatrix(t)).rows,s=t.columns;const{computeLeftSingularVectors:n=!0,computeRightSingularVectors:i=!0,autoTranspose:o=!1}=r;var a,h=Boolean(n),c=Boolean(i),m=!1;if(e<s)if(o){e=(a=t.transpose()).rows,s=a.columns,m=!0;var f=h;h=c,c=f}else a=t.clone(),console.warn(\"Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose\");else a=t.clone();var g=Math.min(e,s),w=Math.min(e+1,s),v=new Array(w),d=l(e,g,0),p=l(s,s,0),y=new Array(s),b=new Array(e),x=new Array(w);for(let t=0;t<w;t++)x[t]=t;var M=Math.min(e-1,s),R=Math.max(0,Math.min(s-2,e)),S=Math.max(M,R);for(let t=0;t<S;t++){if(t<M){v[t]=0;for(let r=t;r<e;r++)v[t]=u(v[t],a[r][t]);if(0!==v[t]){a[t][t]<0&&(v[t]=-v[t]);for(let r=t;r<e;r++)a[r][t]/=v[t];a[t][t]+=1}v[t]=-v[t]}for(let r=t+1;r<s;r++){if(t<M&&0!==v[t]){let s=0;for(let n=t;n<e;n++)s+=a[n][t]*a[n][r];s=-s/a[t][t];for(let n=t;n<e;n++)a[n][r]+=s*a[n][t]}y[r]=a[t][r]}if(h&&t<M)for(let r=t;r<e;r++)d[r][t]=a[r][t];if(t<R){y[t]=0;for(let r=t+1;r<s;r++)y[t]=u(y[t],y[r]);if(0!==y[t]){y[t+1]<0&&(y[t]=0-y[t]);for(let r=t+1;r<s;r++)y[r]/=y[t];y[t+1]+=1}if(y[t]=-y[t],t+1<e&&0!==y[t]){for(let r=t+1;r<e;r++)b[r]=0;for(let r=t+1;r<e;r++)for(let e=t+1;e<s;e++)b[r]+=y[e]*a[r][e];for(let r=t+1;r<s;r++){let s=-y[r]/y[t+1];for(let n=t+1;n<e;n++)a[n][r]+=s*b[n]}}if(c)for(let r=t+1;r<s;r++)p[r][t]=y[r]}}let E=Math.min(s,e+1);if(M<s&&(v[M]=a[M][M]),e<E&&(v[E-1]=0),R+1<E&&(y[R]=a[R][E-1]),y[E-1]=0,h){for(let t=M;t<g;t++){for(let r=0;r<e;r++)d[r][t]=0;d[t][t]=1}for(let t=M-1;t>=0;t--)if(0!==v[t]){for(let r=t+1;r<g;r++){let s=0;for(let n=t;n<e;n++)s+=d[n][t]*d[n][r];s=-s/d[t][t];for(let n=t;n<e;n++)d[n][r]+=s*d[n][t]}for(let r=t;r<e;r++)d[r][t]=-d[r][t];d[t][t]=1+d[t][t];for(let r=0;r<t-1;r++)d[r][t]=0}else{for(let r=0;r<e;r++)d[r][t]=0;d[t][t]=1}}if(c)for(let t=s-1;t>=0;t--){if(t<R&&0!==y[t])for(let r=t+1;r<s;r++){let e=0;for(let n=t+1;n<s;n++)e+=p[n][t]*p[n][r];e=-e/p[t+1][t];for(let n=t+1;n<s;n++)p[n][r]+=e*p[n][t]}for(let r=0;r<s;r++)p[r][t]=0;p[t][t]=1}for(var k=E-1,A=Number.EPSILON;E>0;){let t,r;for(t=E-2;t>=-1&&-1!==t;t--){const r=Number.MIN_VALUE+A*Math.abs(v[t]+Math.abs(v[t+1]));if(Math.abs(y[t])<=r||Number.isNaN(y[t])){y[t]=0;break}}if(t===E-2)r=4;else{let e;for(e=E-1;e>=t&&e!==t;e--){let r=(e!==E?Math.abs(y[e]):0)+(e!==t+1?Math.abs(y[e-1]):0);if(Math.abs(v[e])<=A*r){v[e]=0;break}}e===t?r=3:e===E-1?r=1:(r=2,t=e)}switch(t++,r){case 1:{let r=y[E-2];y[E-2]=0;for(let e=E-2;e>=t;e--){let n=u(v[e],r),i=v[e]/n,o=r/n;if(v[e]=n,e!==t&&(r=-o*y[e-1],y[e-1]=i*y[e-1]),c)for(let t=0;t<s;t++)n=i*p[t][e]+o*p[t][E-1],p[t][E-1]=-o*p[t][e]+i*p[t][E-1],p[t][e]=n}break}case 2:{let r=y[t-1];y[t-1]=0;for(let s=t;s<E;s++){let n=u(v[s],r),i=v[s]/n,o=r/n;if(v[s]=n,r=-o*y[s],y[s]=i*y[s],h)for(let r=0;r<e;r++)n=i*d[r][s]+o*d[r][t-1],d[r][t-1]=-o*d[r][s]+i*d[r][t-1],d[r][s]=n}break}case 3:{const r=Math.max(Math.abs(v[E-1]),Math.abs(v[E-2]),Math.abs(y[E-2]),Math.abs(v[t]),Math.abs(y[t])),n=v[E-1]/r,i=v[E-2]/r,o=y[E-2]/r,a=v[t]/r,l=y[t]/r,m=((i+n)*(i-n)+o*o)/2,f=n*o*(n*o);let g=0;0===m&&0===f||(g=f/(m+(g=m<0?0-Math.sqrt(m*m+f):Math.sqrt(m*m+f))));let w=(a+n)*(a-n)+g,b=a*l;for(let r=t;r<E-1;r++){let n=u(w,b);0===n&&(n=Number.MIN_VALUE);let i=w/n,o=b/n;if(r!==t&&(y[r-1]=n),w=i*v[r]+o*y[r],y[r]=i*y[r]-o*v[r],b=o*v[r+1],v[r+1]=i*v[r+1],c)for(let t=0;t<s;t++)n=i*p[t][r]+o*p[t][r+1],p[t][r+1]=-o*p[t][r]+i*p[t][r+1],p[t][r]=n;if(0===(n=u(w,b))&&(n=Number.MIN_VALUE),i=w/n,o=b/n,v[r]=n,w=i*y[r]+o*v[r+1],v[r+1]=-o*y[r]+i*v[r+1],b=o*y[r+1],y[r+1]=i*y[r+1],h&&r<e-1)for(let t=0;t<e;t++)n=i*d[t][r]+o*d[t][r+1],d[t][r+1]=-o*d[t][r]+i*d[t][r+1],d[t][r]=n}y[E-2]=w,1;break}case 4:if(v[t]<=0&&(v[t]=v[t]<0?-v[t]:0,c))for(let r=0;r<=k;r++)p[r][t]=-p[r][t];for(;t<k&&!(v[t]>=v[t+1]);){let r=v[t];if(v[t]=v[t+1],v[t+1]=r,c&&t<s-1)for(let e=0;e<s;e++)r=p[e][t+1],p[e][t+1]=p[e][t],p[e][t]=r;if(h&&t<e-1)for(let s=0;s<e;s++)r=d[s][t+1],d[s][t+1]=d[s][t],d[s][t]=r;t++}0,E--}}if(m){var j=p;p=d,d=j}this.m=e,this.n=s,this.s=v,this.U=d,this.V=p}solve(t){var r=t,e=this.threshold,s=this.s.length,n=T.zeros(s,s);for(let t=0;t<s;t++)Math.abs(this.s[t])<=e?n[t][t]=0:n[t][t]=1/this.s[t];var i=this.U,o=this.rightSingularVectors,a=o.mmul(n),h=o.rows,u=i.length,l=T.zeros(h,u);for(let t=0;t<h;t++)for(let r=0;r<u;r++){let e=0;for(let n=0;n<s;n++)e+=a[t][n]*i[r][n];l[t][r]=e}return l.mmul(r)}solveForDiagonal(t){return this.solve(T.diag(t))}inverse(){var t=this.V,r=this.threshold,e=t.length,s=t[0].length,n=new T(e,this.s.length);for(let i=0;i<e;i++)for(let e=0;e<s;e++)Math.abs(this.s[e])>r?n[i][e]=t[i][e]/this.s[e]:n[i][e]=0;var i=this.U,o=i.length,a=i[0].length,h=new T(e,o);for(let t=0;t<e;t++)for(let r=0;r<o;r++){let e=0;for(let s=0;s<a;s++)e+=n[t][s]*i[r][s];h[t][r]=e}return h}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){for(var t=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,r=0,e=this.s,s=0,n=e.length;s<n;s++)e[s]>t&&r++;return r}get diagonal(){return this.s}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return T.isMatrix(this.U)||(this.U=new T(this.U)),this.U}get rightSingularVectors(){return T.isMatrix(this.V)||(this.V=new T(this.V)),this.V}get diagonalMatrix(){return T.diag(this.s)}}function m(t,r,e){var s=e?t.rows:t.rows-1;if(r<0||r>s)throw new RangeError(\"Row index out of range\")}function f(t,r,e){var s=e?t.columns:t.columns-1;if(r<0||r>s)throw new RangeError(\"Column index out of range\")}function g(t,r){if(r.to1DArray&&(r=r.to1DArray()),r.length!==t.columns)throw new RangeError(\"vector size must be the same as the number of columns\");return r}function w(t,r){if(r.to1DArray&&(r=r.to1DArray()),r.length!==t.rows)throw new RangeError(\"vector size must be the same as the number of rows\");return r}function v(t,r,e){return{row:d(t,r),column:p(t,e)}}function d(t,r){if(\"object\"!=typeof r)throw new TypeError(\"unexpected type for row indices\");if(r.some(r=>r<0||r>=t.rows))throw new RangeError(\"row indices are out of range\");return Array.isArray(r)||(r=Array.from(r)),r}function p(t,r){if(\"object\"!=typeof r)throw new TypeError(\"unexpected type for column indices\");if(r.some(r=>r<0||r>=t.columns))throw new RangeError(\"column indices are out of range\");return Array.isArray(r)||(r=Array.from(r)),r}function y(t,r,e,s,n){if(5!==arguments.length)throw new RangeError(\"expected 4 arguments\");if(b(\"startRow\",r),b(\"endRow\",e),b(\"startColumn\",s),b(\"endColumn\",n),r>e||s>n||r<0||r>=t.rows||e<0||e>=t.rows||s<0||s>=t.columns||n<0||n>=t.columns)throw new RangeError(\"Submatrix indices are out of range\")}function b(t,r){if(\"number\"!=typeof r)throw new TypeError(`${t} must be a number`)}class x extends(C()){constructor(t,r,e){super(),this.matrix=t,this.rows=r,this.columns=e}static get[Symbol.species](){return T}}class M extends x{constructor(t){super(t,t.columns,t.rows)}set(t,r,e){return this.matrix.set(r,t,e),this}get(t,r){return this.matrix.get(r,t)}}class R extends x{constructor(t,r){super(t,1,t.columns),this.row=r}set(t,r,e){return this.matrix.set(this.row,r,e),this}get(t,r){return this.matrix.get(this.row,r)}}class S extends x{constructor(t,r,e,s,n){y(t,r,e,s,n),super(t,e-r+1,n-s+1),this.startRow=r,this.startColumn=s}set(t,r,e){return this.matrix.set(this.startRow+t,this.startColumn+r,e),this}get(t,r){return this.matrix.get(this.startRow+t,this.startColumn+r)}}class E extends x{constructor(t,r,e){var s=v(t,r,e);super(t,s.row.length,s.column.length),this.rowIndices=s.row,this.columnIndices=s.column}set(t,r,e){return this.matrix.set(this.rowIndices[t],this.columnIndices[r],e),this}get(t,r){return this.matrix.get(this.rowIndices[t],this.columnIndices[r])}}class k extends x{constructor(t,r){super(t,(r=d(t,r)).length,t.columns),this.rowIndices=r}set(t,r,e){return this.matrix.set(this.rowIndices[t],r,e),this}get(t,r){return this.matrix.get(this.rowIndices[t],r)}}class A extends x{constructor(t,r){r=p(t,r),super(t,t.rows,r.length),this.columnIndices=r}set(t,r,e){return this.matrix.set(t,this.columnIndices[r],e),this}get(t,r){return this.matrix.get(t,this.columnIndices[r])}}class j extends x{constructor(t,r){super(t,t.rows,1),this.column=r}set(t,r,e){return this.matrix.set(t,this.column,e),this}get(t){return this.matrix.get(t,this.column)}}class V extends x{constructor(t){super(t,t.rows,t.columns)}set(t,r,e){return this.matrix.set(this.rows-t-1,r,e),this}get(t,r){return this.matrix.get(this.rows-t-1,r)}}class I extends x{constructor(t){super(t,t.rows,t.columns)}set(t,r,e){return this.matrix.set(t,this.columns-r-1,e),this}get(t,r){return this.matrix.get(t,this.columns-r-1)}}function C(t){void 0===t&&(t=Object);class r extends t{static get[Symbol.species](){return this}static from1DArray(t,r,e){if(t*r!==e.length)throw new RangeError(\"Data length does not match given dimensions\");for(var s=new this(t,r),n=0;n<t;n++)for(var i=0;i<r;i++)s.set(n,i,e[n*r+i]);return s}static rowVector(t){for(var r=new this(1,t.length),e=0;e<t.length;e++)r.set(0,e,t[e]);return r}static columnVector(t){for(var r=new this(t.length,1),e=0;e<t.length;e++)r.set(e,0,t[e]);return r}static empty(t,r){return new this(t,r)}static zeros(t,r){return this.empty(t,r).fill(0)}static ones(t,r){return this.empty(t,r).fill(1)}static rand(t,r,e){void 0===e&&(e=Math.random);for(var s=this.empty(t,r),n=0;n<t;n++)for(var i=0;i<r;i++)s.set(n,i,e());return s}static randInt(t,r,e,s){void 0===e&&(e=1e3),void 0===s&&(s=Math.random);for(var n=this.empty(t,r),i=0;i<t;i++)for(var o=0;o<r;o++){var a=Math.floor(s()*e);n.set(i,o,a)}return n}static eye(t,r,e){void 0===r&&(r=t),void 0===e&&(e=1);for(var s=Math.min(t,r),n=this.zeros(t,r),i=0;i<s;i++)n.set(i,i,e);return n}static diag(t,r,e){var s=t.length;void 0===r&&(r=s),void 0===e&&(e=r);for(var n=Math.min(s,r,e),i=this.zeros(r,e),o=0;o<n;o++)i.set(o,o,t[o]);return i}static min(t,r){t=this.checkMatrix(t),r=this.checkMatrix(r);for(var e=t.rows,s=t.columns,n=new this(e,s),i=0;i<e;i++)for(var o=0;o<s;o++)n.set(i,o,Math.min(t.get(i,o),r.get(i,o)));return n}static max(t,r){t=this.checkMatrix(t),r=this.checkMatrix(r);for(var e=t.rows,s=t.columns,n=new this(e,s),i=0;i<e;i++)for(var o=0;o<s;o++)n.set(i,o,Math.max(t.get(i,o),r.get(i,o)));return n}static checkMatrix(t){return r.isMatrix(t)?t:new this(t)}static isMatrix(t){return null!=t&&\"Matrix\"===t.klass}get size(){return this.rows*this.columns}apply(t){if(\"function\"!=typeof t)throw new TypeError(\"callback must be a function\");for(var r=this.rows,e=this.columns,s=0;s<r;s++)for(var n=0;n<e;n++)t.call(this,s,n);return this}to1DArray(){for(var t=new Array(this.size),r=0;r<this.rows;r++)for(var e=0;e<this.columns;e++)t[r*this.columns+e]=this.get(r,e);return t}to2DArray(){for(var t=new Array(this.rows),r=0;r<this.rows;r++){t[r]=new Array(this.columns);for(var e=0;e<this.columns;e++)t[r][e]=this.get(r,e)}return t}isRowVector(){return 1===this.rows}isColumnVector(){return 1===this.columns}isVector(){return 1===this.rows||1===this.columns}isSquare(){return this.rows===this.columns}isSymmetric(){if(this.isSquare()){for(var t=0;t<this.rows;t++)for(var r=0;r<=t;r++)if(this.get(t,r)!==this.get(r,t))return!1;return!0}return!1}set(t,r,e){throw new Error(\"set method is unimplemented\")}get(t,r){throw new Error(\"get method is unimplemented\")}repeat(t,r){t=t||1,r=r||1;for(var e=new this.constructor[Symbol.species](this.rows*t,this.columns*r),s=0;s<t;s++)for(var n=0;n<r;n++)e.setSubMatrix(this,this.rows*s,this.columns*n);return e}fill(t){for(var r=0;r<this.rows;r++)for(var e=0;e<this.columns;e++)this.set(r,e,t);return this}neg(){return this.mulS(-1)}getRow(t){m(this,t);for(var r=new Array(this.columns),e=0;e<this.columns;e++)r[e]=this.get(t,e);return r}getRowVector(t){return this.constructor.rowVector(this.getRow(t))}setRow(t,r){m(this,t),r=g(this,r);for(var e=0;e<this.columns;e++)this.set(t,e,r[e]);return this}swapRows(t,r){m(this,t),m(this,r);for(var e=0;e<this.columns;e++){var s=this.get(t,e);this.set(t,e,this.get(r,e)),this.set(r,e,s)}return this}getColumn(t){f(this,t);for(var r=new Array(this.rows),e=0;e<this.rows;e++)r[e]=this.get(e,t);return r}getColumnVector(t){return this.constructor.columnVector(this.getColumn(t))}setColumn(t,r){f(this,t),r=w(this,r);for(var e=0;e<this.rows;e++)this.set(e,t,r[e]);return this}swapColumns(t,r){f(this,t),f(this,r);for(var e=0;e<this.rows;e++){var s=this.get(e,t);this.set(e,t,this.get(e,r)),this.set(e,r,s)}return this}addRowVector(t){t=g(this,t);for(var r=0;r<this.rows;r++)for(var e=0;e<this.columns;e++)this.set(r,e,this.get(r,e)+t[e]);return this}subRowVector(t){t=g(this,t);for(var r=0;r<this.rows;r++)for(var e=0;e<this.columns;e++)this.set(r,e,this.get(r,e)-t[e]);return this}mulRowVector(t){t=g(this,t);for(var r=0;r<this.rows;r++)for(var e=0;e<this.columns;e++)this.set(r,e,this.get(r,e)*t[e]);return this}divRowVector(t){t=g(this,t);for(var r=0;r<this.rows;r++)for(var e=0;e<this.columns;e++)this.set(r,e,this.get(r,e)/t[e]);return this}addColumnVector(t){t=w(this,t);for(var r=0;r<this.rows;r++)for(var e=0;e<this.columns;e++)this.set(r,e,this.get(r,e)+t[r]);return this}subColumnVector(t){t=w(this,t);for(var r=0;r<this.rows;r++)for(var e=0;e<this.columns;e++)this.set(r,e,this.get(r,e)-t[r]);return this}mulColumnVector(t){t=w(this,t);for(var r=0;r<this.rows;r++)for(var e=0;e<this.columns;e++)this.set(r,e,this.get(r,e)*t[r]);return this}divColumnVector(t){t=w(this,t);for(var r=0;r<this.rows;r++)for(var e=0;e<this.columns;e++)this.set(r,e,this.get(r,e)/t[r]);return this}mulRow(t,r){m(this,t);for(var e=0;e<this.columns;e++)this.set(t,e,this.get(t,e)*r);return this}mulColumn(t,r){f(this,t);for(var e=0;e<this.rows;e++)this.set(e,t,this.get(e,t)*r);return this}max(){for(var t=this.get(0,0),r=0;r<this.rows;r++)for(var e=0;e<this.columns;e++)this.get(r,e)>t&&(t=this.get(r,e));return t}maxIndex(){for(var t=this.get(0,0),r=[0,0],e=0;e<this.rows;e++)for(var s=0;s<this.columns;s++)this.get(e,s)>t&&(t=this.get(e,s),r[0]=e,r[1]=s);return r}min(){for(var t=this.get(0,0),r=0;r<this.rows;r++)for(var e=0;e<this.columns;e++)this.get(r,e)<t&&(t=this.get(r,e));return t}minIndex(){for(var t=this.get(0,0),r=[0,0],e=0;e<this.rows;e++)for(var s=0;s<this.columns;s++)this.get(e,s)<t&&(t=this.get(e,s),r[0]=e,r[1]=s);return r}maxRow(t){m(this,t);for(var r=this.get(t,0),e=1;e<this.columns;e++)this.get(t,e)>r&&(r=this.get(t,e));return r}maxRowIndex(t){m(this,t);for(var r=this.get(t,0),e=[t,0],s=1;s<this.columns;s++)this.get(t,s)>r&&(r=this.get(t,s),e[1]=s);return e}minRow(t){m(this,t);for(var r=this.get(t,0),e=1;e<this.columns;e++)this.get(t,e)<r&&(r=this.get(t,e));return r}minRowIndex(t){m(this,t);for(var r=this.get(t,0),e=[t,0],s=1;s<this.columns;s++)this.get(t,s)<r&&(r=this.get(t,s),e[1]=s);return e}maxColumn(t){f(this,t);for(var r=this.get(0,t),e=1;e<this.rows;e++)this.get(e,t)>r&&(r=this.get(e,t));return r}maxColumnIndex(t){f(this,t);for(var r=this.get(0,t),e=[0,t],s=1;s<this.rows;s++)this.get(s,t)>r&&(r=this.get(s,t),e[0]=s);return e}minColumn(t){f(this,t);for(var r=this.get(0,t),e=1;e<this.rows;e++)this.get(e,t)<r&&(r=this.get(e,t));return r}minColumnIndex(t){f(this,t);for(var r=this.get(0,t),e=[0,t],s=1;s<this.rows;s++)this.get(s,t)<r&&(r=this.get(s,t),e[0]=s);return e}diag(){for(var t=Math.min(this.rows,this.columns),r=new Array(t),e=0;e<t;e++)r[e]=this.get(e,e);return r}sum(t){switch(t){case\"row\":return function(t){for(var r=T.zeros(t.rows,1),e=0;e<t.rows;++e)for(var s=0;s<t.columns;++s)r.set(e,0,r.get(e,0)+t.get(e,s));return r}(this);case\"column\":return function(t){for(var r=T.zeros(1,t.columns),e=0;e<t.rows;++e)for(var s=0;s<t.columns;++s)r.set(0,s,r.get(0,s)+t.get(e,s));return r}(this);default:return function(t){for(var r=0,e=0;e<t.rows;e++)for(var s=0;s<t.columns;s++)r+=t.get(e,s);return r}(this)}}mean(){return this.sum()/this.size}prod(){for(var t=1,r=0;r<this.rows;r++)for(var e=0;e<this.columns;e++)t*=this.get(r,e);return t}norm(t=\"frobenius\"){var r=0;if(\"max\"===t)return this.max();if(\"frobenius\"===t){for(var e=0;e<this.rows;e++)for(var s=0;s<this.columns;s++)r+=this.get(e,s)*this.get(e,s);return Math.sqrt(r)}throw new RangeError(`unknown norm type: ${t}`)}cumulativeSum(){for(var t=0,r=0;r<this.rows;r++)for(var e=0;e<this.columns;e++)t+=this.get(r,e),this.set(r,e,t);return this}dot(t){r.isMatrix(t)&&(t=t.to1DArray());var e=this.to1DArray();if(e.length!==t.length)throw new RangeError(\"vectors do not have the same size\");for(var s=0,n=0;n<e.length;n++)s+=e[n]*t[n];return s}mmul(t){t=this.constructor.checkMatrix(t),this.columns!==t.rows&&console.warn(\"Number of columns of left matrix are not equal to number of rows of right matrix.\");for(var r=this.rows,e=this.columns,s=t.columns,n=new this.constructor[Symbol.species](r,s),i=new Array(e),o=0;o<s;o++){for(var a=0;a<e;a++)i[a]=t.get(a,o);for(var h=0;h<r;h++){var u=0;for(a=0;a<e;a++)u+=this.get(h,a)*i[a];n.set(h,o,u)}}return n}strassen2x2(t){var r=new this.constructor[Symbol.species](2,2);const e=this.get(0,0),s=t.get(0,0),n=this.get(0,1),i=t.get(0,1),o=this.get(1,0),a=t.get(1,0),h=this.get(1,1),u=t.get(1,1),l=(e+h)*(s+u),c=(o+h)*s,m=e*(i-u),f=h*(a-s),g=(e+n)*u,w=l+f-g+(n-h)*(a+u),v=m+g,d=c+f,p=l-c+m+(o-e)*(s+i);return r.set(0,0,w),r.set(0,1,v),r.set(1,0,d),r.set(1,1,p),r}strassen3x3(t){var r=new this.constructor[Symbol.species](3,3);const e=this.get(0,0),s=this.get(0,1),n=this.get(0,2),i=this.get(1,0),o=this.get(1,1),a=this.get(1,2),h=this.get(2,0),u=this.get(2,1),l=this.get(2,2),c=t.get(0,0),m=t.get(0,1),f=t.get(0,2),g=t.get(1,0),w=t.get(1,1),v=t.get(1,2),d=t.get(2,0),p=t.get(2,1),y=t.get(2,2),b=(e-i)*(-m+w),x=(-e+i+o)*(c-m+w),M=(i+o)*(-c+m),R=e*c,S=(-e+h+u)*(c-f+v),E=(-e+h)*(f-v),k=(h+u)*(-c+f),A=(-n+u+l)*(w+d-p),j=(n-l)*(w-p),V=n*d,I=(u+l)*(-d+p),C=(-n+o+a)*(v+d-y),T=(n-a)*(v-y),L=(o+a)*(-d+y),P=R+V+s*g,N=(e+s+n-i-o-u-l)*w+x+M+R+A+V+I,q=R+S+k+(e+s+n-o-a-h-u)*v+V+C+L,z=b+o*(-c+m+g-w-v-d+y)+x+R+V+C+T,U=b+x+M+R+a*p,$=V+C+T+L+i*f,O=R+S+E+u*(-c+f+g-w-v-d+p)+A+j+V,D=A+j+V+I+h*m,B=R+S+E+k+l*y;return r.set(0,0,P),r.set(0,1,N),r.set(0,2,q),r.set(1,0,z),r.set(1,1,U),r.set(1,2,$),r.set(2,0,O),r.set(2,1,D),r.set(2,2,B),r}mmulStrassen(t){var e=this.clone(),s=e.rows,n=e.columns,i=t.rows,o=t.columns;function a(t,e,s){var n=t.rows,i=t.columns;if(n===e&&i===s)return t;var o=r.zeros(e,s);return o=o.setSubMatrix(t,0,0)}n!==i&&console.warn(`Multiplying ${s} x ${n} and ${i} x ${o} matrix: dimensions do not match.`);var h=Math.max(s,i),u=Math.max(n,o);return function t(e,s,n,i){if(n<=512||i<=512)return e.mmul(s);n%2==1&&i%2==1?(e=a(e,n+1,i+1),s=a(s,n+1,i+1)):n%2==1?(e=a(e,n+1,i),s=a(s,n+1,i)):i%2==1&&(e=a(e,n,i+1),s=a(s,n,i+1));var o=parseInt(e.rows/2,10),h=parseInt(e.columns/2,10),u=e.subMatrix(0,o-1,0,h-1),l=s.subMatrix(0,o-1,0,h-1),c=e.subMatrix(0,o-1,h,e.columns-1),m=s.subMatrix(0,o-1,h,s.columns-1),f=e.subMatrix(o,e.rows-1,0,h-1),g=s.subMatrix(o,s.rows-1,0,h-1),w=e.subMatrix(o,e.rows-1,h,e.columns-1),v=s.subMatrix(o,s.rows-1,h,s.columns-1),d=t(r.add(u,w),r.add(l,v),o,h),p=t(r.add(f,w),l,o,h),y=t(u,r.sub(m,v),o,h),b=t(w,r.sub(g,l),o,h),x=t(r.add(u,c),v,o,h),M=t(r.sub(f,u),r.add(l,m),o,h),R=t(r.sub(c,w),r.add(g,v),o,h),S=r.add(d,b);S.sub(x),S.add(R);var E=r.add(y,x),k=r.add(p,b),A=r.sub(d,p);A.add(y),A.add(M);var j=r.zeros(2*S.rows,2*S.columns);return(j=(j=(j=(j=j.setSubMatrix(S,0,0)).setSubMatrix(E,S.rows,0)).setSubMatrix(k,0,S.columns)).setSubMatrix(A,S.rows,S.columns)).subMatrix(0,n-1,0,i-1)}(e=a(e,h,u),t=a(t,h,u),h,u)}scaleRows(t,r){if((t=void 0===t?0:t)>=(r=void 0===r?1:r))throw new RangeError(\"min should be strictly smaller than max\");for(var e=this.constructor.empty(this.rows,this.columns),s=0;s<this.rows;s++){var n=a(this.getRow(s),{min:t,max:r});e.setRow(s,n)}return e}scaleColumns(t,r){if((t=void 0===t?0:t)>=(r=void 0===r?1:r))throw new RangeError(\"min should be strictly smaller than max\");for(var e=this.constructor.empty(this.rows,this.columns),s=0;s<this.columns;s++){var n=a(this.getColumn(s),{min:t,max:r});e.setColumn(s,n)}return e}kroneckerProduct(t){t=this.constructor.checkMatrix(t);for(var r=this.rows,e=this.columns,s=t.rows,n=t.columns,i=new this.constructor[Symbol.species](r*s,e*n),o=0;o<r;o++)for(var a=0;a<e;a++)for(var h=0;h<s;h++)for(var u=0;u<n;u++)i[s*o+h][n*a+u]=this.get(o,a)*t.get(h,u);return i}transpose(){for(var t=new this.constructor[Symbol.species](this.columns,this.rows),r=0;r<this.rows;r++)for(var e=0;e<this.columns;e++)t.set(e,r,this.get(r,e));return t}sortRows(t){void 0===t&&(t=e);for(var r=0;r<this.rows;r++)this.setRow(r,this.getRow(r).sort(t));return this}sortColumns(t){void 0===t&&(t=e);for(var r=0;r<this.columns;r++)this.setColumn(r,this.getColumn(r).sort(t));return this}subMatrix(t,r,e,s){y(this,t,r,e,s);for(var n=new this.constructor[Symbol.species](r-t+1,s-e+1),i=t;i<=r;i++)for(var o=e;o<=s;o++)n[i-t][o-e]=this.get(i,o);return n}subMatrixRow(t,r,e){if(void 0===r&&(r=0),void 0===e&&(e=this.columns-1),r>e||r<0||r>=this.columns||e<0||e>=this.columns)throw new RangeError(\"Argument out of range\");for(var s=new this.constructor[Symbol.species](t.length,e-r+1),n=0;n<t.length;n++)for(var i=r;i<=e;i++){if(t[n]<0||t[n]>=this.rows)throw new RangeError(`Row index out of range: ${t[n]}`);s.set(n,i-r,this.get(t[n],i))}return s}subMatrixColumn(t,r,e){if(void 0===r&&(r=0),void 0===e&&(e=this.rows-1),r>e||r<0||r>=this.rows||e<0||e>=this.rows)throw new RangeError(\"Argument out of range\");for(var s=new this.constructor[Symbol.species](e-r+1,t.length),n=0;n<t.length;n++)for(var i=r;i<=e;i++){if(t[n]<0||t[n]>=this.columns)throw new RangeError(`Column index out of range: ${t[n]}`);s.set(i-r,n,this.get(i,t[n]))}return s}setSubMatrix(t,r,e){y(this,r,r+(t=this.constructor.checkMatrix(t)).rows-1,e,e+t.columns-1);for(var s=0;s<t.rows;s++)for(var n=0;n<t.columns;n++)this[r+s][e+n]=t.get(s,n);return this}selection(t,r){for(var e=v(this,t,r),s=new this.constructor[Symbol.species](t.length,r.length),n=0;n<e.row.length;n++)for(var i=e.row[n],o=0;o<e.column.length;o++){var a=e.column[o];s[n][o]=this.get(i,a)}return s}trace(){for(var t=Math.min(this.rows,this.columns),r=0,e=0;e<t;e++)r+=this.get(e,e);return r}transposeView(){return new M(this)}rowView(t){return m(this,t),new R(this,t)}columnView(t){return f(this,t),new j(this,t)}flipRowView(){return new V(this)}flipColumnView(){return new I(this)}subMatrixView(t,r,e,s){return new S(this,t,r,e,s)}selectionView(t,r){return new E(this,t,r)}rowSelectionView(t){return new k(this,t)}columnSelectionView(t){return new A(this,t)}det(){var t,r,e,s,n,i;if(this.isSquare())return 2===this.columns?(t=this.get(0,0),r=this.get(0,1),e=this.get(1,0),t*this.get(1,1)-r*e):3===this.columns?(s=this.selectionView([1,2],[1,2]),n=this.selectionView([1,2],[0,2]),i=this.selectionView([1,2],[0,1]),t=this.get(0,0),r=this.get(0,1),e=this.get(0,2),t*s.det()-r*n.det()+e*i.det()):new h(this).determinant;throw Error(\"Determinant can only be calculated for a square matrix.\")}pseudoInverse(t){void 0===t&&(t=Number.EPSILON);for(var r=new c(this,{autoTranspose:!0}),e=r.leftSingularVectors,s=r.rightSingularVectors,n=r.diagonal,i=0;i<n.length;i++)Math.abs(n[i])>t?n[i]=1/n[i]:n[i]=0;return n=this.constructor[Symbol.species].diag(n),s.mmul(n.mmul(e.transposeView()))}clone(){for(var t=new this.constructor[Symbol.species](this.rows,this.columns),r=0;r<this.rows;r++)for(var e=0;e<this.columns;e++)t.set(r,e,this.get(r,e));return t}}function e(t,r){return t-r}r.prototype.klass=\"Matrix\",r.random=r.rand,r.diagonal=r.diag,r.prototype.diagonal=r.prototype.diag,r.identity=r.eye,r.prototype.negate=r.prototype.neg,r.prototype.tensorProduct=r.prototype.kroneckerProduct,r.prototype.determinant=r.prototype.det;var s,n=\"\\n(function %name%(matrix, %args%) {\\n    var newMatrix = new this[Symbol.species](matrix);\\n    return newMatrix.%name%(%args%);\\n})\\n\",i=eval;for(var o of[[\"+\",\"add\"],[\"-\",\"sub\",\"subtract\"],[\"*\",\"mul\",\"multiply\"],[\"/\",\"div\",\"divide\"],[\"%\",\"mod\",\"modulus\"],[\"&\",\"and\"],[\"|\",\"or\"],[\"^\",\"xor\"],[\"<<\",\"leftShift\"],[\">>\",\"signPropagatingRightShift\"],[\">>>\",\"rightShift\",\"zeroFillRightShift\"]]){var u=i(H(\"\\n(function %name%(value) {\\n    if (typeof value === 'number') return this.%name%S(value);\\n    return this.%name%M(value);\\n})\\n\",{name:o[1],op:o[0]})),l=i(H(\"\\n(function %name%S(value) {\\n    for (var i = 0; i < this.rows; i++) {\\n        for (var j = 0; j < this.columns; j++) {\\n            this.set(i, j, this.get(i, j) %op% value);\\n        }\\n    }\\n    return this;\\n})\\n\",{name:`${o[1]}S`,op:o[0]})),d=i(H(\"\\n(function %name%M(matrix) {\\n    matrix = this.constructor.checkMatrix(matrix);\\n    if (this.rows !== matrix.rows ||\\n        this.columns !== matrix.columns) {\\n        throw new RangeError('Matrices dimensions must be equal');\\n    }\\n    for (var i = 0; i < this.rows; i++) {\\n        for (var j = 0; j < this.columns; j++) {\\n            this.set(i, j, this.get(i, j) %op% matrix.get(i, j));\\n        }\\n    }\\n    return this;\\n})\\n\",{name:`${o[1]}M`,op:o[0]})),p=i(H(\"\\n(function %name%(matrix, value) {\\n    var newMatrix = new this[Symbol.species](matrix);\\n    return newMatrix.%name%(value);\\n})\\n\",{name:o[1]}));for(s=1;s<o.length;s++)r.prototype[o[s]]=u,r.prototype[`${o[s]}S`]=l,r.prototype[`${o[s]}M`]=d,r[o[s]]=p}var b=[[\"~\",\"not\"]];for(var x of([\"abs\",\"acos\",\"acosh\",\"asin\",\"asinh\",\"atan\",\"atanh\",\"cbrt\",\"ceil\",\"clz32\",\"cos\",\"cosh\",\"exp\",\"expm1\",\"floor\",\"fround\",\"log\",\"log1p\",\"log10\",\"log2\",\"round\",\"sign\",\"sin\",\"sinh\",\"sqrt\",\"tan\",\"tanh\",\"trunc\"].forEach(function(t){b.push([`Math.${t}`,t])}),b)){var C=i(H(\"\\n(function %name%() {\\n    for (var i = 0; i < this.rows; i++) {\\n        for (var j = 0; j < this.columns; j++) {\\n            this.set(i, j, %method%(this.get(i, j)));\\n        }\\n    }\\n    return this;\\n})\\n\",{name:x[1],method:x[0]})),L=i(H(\"\\n(function %name%(matrix) {\\n    var newMatrix = new this[Symbol.species](matrix);\\n    return newMatrix.%name%();\\n})\\n\",{name:x[1]}));for(s=1;s<x.length;s++)r.prototype[x[s]]=C,r[x[s]]=L}for(var P of[[\"Math.pow\",1,\"pow\"]]){var N=\"arg0\";for(s=1;s<P[1];s++)N+=`, arg${s}`;if(1!==P[1]){var q=i(H(\"\\n(function %name%(%args%) {\\n    for (var i = 0; i < this.rows; i++) {\\n        for (var j = 0; j < this.columns; j++) {\\n            this.set(i, j, %method%(this.get(i, j), %args%));\\n        }\\n    }\\n    return this;\\n})\\n\",{name:P[2],method:P[0],args:N})),z=i(H(n,{name:P[2],args:N}));for(s=2;s<P.length;s++)r.prototype[P[s]]=q,r[P[s]]=z}else{var U={name:P[2],args:N,method:P[0]},$=i(H(\"\\n(function %name%(value) {\\n    if (typeof value === 'number') return this.%name%S(value);\\n    return this.%name%M(value);\\n})\\n\",U)),O=i(H(\"\\n(function %name%S(value) {\\n    for (var i = 0; i < this.rows; i++) {\\n        for (var j = 0; j < this.columns; j++) {\\n            this.set(i, j, %method%(this.get(i, j), value));\\n        }\\n    }\\n    return this;\\n})\\n\",U)),D=i(H(\"\\n(function %name%M(matrix) {\\n    matrix = this.constructor.checkMatrix(matrix);\\n    if (this.rows !== matrix.rows ||\\n        this.columns !== matrix.columns) {\\n        throw new RangeError('Matrices dimensions must be equal');\\n    }\\n    for (var i = 0; i < this.rows; i++) {\\n        for (var j = 0; j < this.columns; j++) {\\n            this.set(i, j, %method%(this.get(i, j), matrix.get(i, j)));\\n        }\\n    }\\n    return this;\\n})\\n\",U)),B=i(H(\"\\n(function %name%(matrix, %args%) {\\n    var newMatrix = new this[Symbol.species](matrix);\\n    return newMatrix.%name%(%args%);\\n})\\n\",U));for(s=2;s<P.length;s++)r.prototype[P[s]]=$,r.prototype[`${P[s]}M`]=D,r.prototype[`${P[s]}S`]=O,r[P[s]]=B}}function H(t,r){for(var e in r)t=t.replace(new RegExp(`%${e}%`,\"g\"),r[e]);return t}return r}class T extends(C(Array)){constructor(t,r){var e;if(1===arguments.length&&\"number\"==typeof t)return new Array(t);if(T.isMatrix(t))return t.clone();if(Number.isInteger(t)&&t>0){if(super(t),!(Number.isInteger(r)&&r>0))throw new TypeError(\"nColumns must be a positive integer\");for(e=0;e<t;e++)this[e]=new Array(r)}else{if(!Array.isArray(t))throw new TypeError(\"First argument must be a positive number or an array\");{const s=t;if(t=s.length,\"number\"!=typeof(r=s[0].length)||0===r)throw new TypeError(\"Data must be a 2D array with at least one element\");for(super(t),e=0;e<t;e++){if(s[e].length!==r)throw new RangeError(\"Inconsistent array dimensions\");this[e]=[].concat(s[e])}}}return this.rows=t,this.columns=r,this}set(t,r,e){return this[t][r]=e,this}get(t,r){return this[t][r]}removeRow(t){if(m(this,t),1===this.rows)throw new RangeError(\"A matrix cannot have less than one row\");return this.splice(t,1),this.rows-=1,this}addRow(t,r){return void 0===r&&(r=t,t=this.rows),m(this,t,!0),r=g(this,r),this.splice(t,0,r),this.rows+=1,this}removeColumn(t){if(f(this,t),1===this.columns)throw new RangeError(\"A matrix cannot have less than one column\");for(var r=0;r<this.rows;r++)this[r].splice(t,1);return this.columns-=1,this}addColumn(t,r){void 0===r&&(r=t,t=this.columns),f(this,t,!0),r=w(this,r);for(var e=0;e<this.rows;e++)this[e].splice(t,0,r[e]);return this.columns+=1,this}}class L extends(C()){constructor(t){super(),this.data=t,this.rows=t.length,this.columns=t[0].length}set(t,r,e){return this.data[t][r]=e,this}get(t,r){return this.data[t][r]}static get[Symbol.species](){return T}}e.d(r,\"c\",function(){return T}),e.d(r,\"a\",function(){return T}),e.d(r,\"b\",function(){return L})},,function(t,r,e){\"use strict\";e.r(r);var s=e(1);var n=function t(r){!function(t,r){if(!(t instanceof r))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.id=r,this.keywords=[],this.links=[]};function i(t,r){for(var e=0;e<r.length;e++){var s=r[e];s.enumerable=s.enumerable||!1,s.configurable=!0,\"value\"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var o=function(){function t(r,e){!function(t,r){if(!(t instanceof r))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.npages=r,this.nlinks=e,this.pageArray=[],this.adjMat=[],this.hyperMat=[],this.modMat=[],this.pageRankMat=[],this.sortedPRMat=[]}var r,e,o;return r=t,(e=[{key:\"generateRandom\",value:function(){for(var t=0;t<this.npages;t++){var r=new n(t+1);this.pageArray.push(r)}for(var e=0;e<this.nlinks;e++){var s=Math.floor(Math.random()*this.npages),i=Math.floor(Math.random()*this.npages)+1,o=this.pageArray[s];i==o.id||o.links.includes(i)?e--:this.pageArray[s].links.push(i)}for(var a=[\"dog\",\"cat\",\"horse\",\"chicken\",\"fish\",\"bear\",\"bird\",\"shark\",\"snake\",\"pig\",\"lion\",\"turkey\",\"wolf\",\"spider\"],h=0;h<this.npages;h++)for(var u=Math.floor(3*Math.random())+1,l=0;l<u;l++){var c=Math.floor(Math.random()*a.length);this.pageArray[h].keywords.includes(a[c])?l--:this.pageArray[h].keywords.push(a[c])}console.log(this.pageArray)}},{key:\"generateAdjacencyMatrix\",value:function(){for(var t=this,r=function(r){for(var e=[],s=0;s<t.npages;s++)e.push(0);t.pageArray[r].links.forEach(function(t){e[t-1]=1}),t.adjMat.push(e)},e=0;e<this.npages;e++)r(e);console.log(this.adjMat)}},{key:\"getAdjacencyMatrixAsTable\",value:function(t){this.generateAdjacencyMatrix();for(var r=\"<table class='matrix-table'>\",e=0;e<=this.npages;e++){r+=\"<tr>\";for(var s=0;s<=this.npages;s++){var n=\"\";if(0==e)n=0==s?\"<td></td>\":\"<td class='bold'>\".concat(s,\"</td>\");else if(0==s)n=\"<td class='bold'>\".concat(e,\"</td>\");else{var i=this.adjMat[e-1][s-1],o=1==i?\"active\":\"\",a=e==s?\"disabled\":\"\";n='<td id=\"'.concat(e,\".\").concat(s,'\" class=\"').concat(o,\" \").concat(a,'\">').concat(i,\"</td>\")}r+=n}r+=\"</tr>\"}return r+=\"</table>\"}},{key:\"calculateHyperlinkMat\",value:function(){for(var t=0;t<this.npages;t++){for(var r=[],e=0;e<this.npages;e++){var s=0;if(t!=e&&0!=this.adjMat[t][e]){for(var n=0,i=0;i<this.npages;i++)n+=parseInt(this.adjMat[i][e]);s=1/n}r.push(s)}this.hyperMat.push(r)}}},{key:\"modifyMatrix\",value:function(){for(var t=new s.c(this.hyperMat),r=[],e=0;e<this.npages;e++){for(var n=[],i=0;i<this.npages;i++)n.push(1/this.npages);r.push(n)}r=new s.c(r),this.modMat=s.c.add(s.c.mul(t,.85),s.c.mul(r,.15))}},{key:\"calculatePageRank\",value:function(){this.calculateHyperlinkMat(),this.modifyMatrix();for(var t=[],r=0;r<this.npages;r++)t.push([1/this.npages]);var e=new s.c(t),n=null,i=null,o=1,a=!0;do{for(var h=this.modMat,u=0;u<o-1;u++)h=this.modMat.mmul(h);n=h.mmul(e),this.isIterationOver(n,i)?a=!1:(i=n,o++)}while(a);this.pageRankMat=n}},{key:\"isIterationOver\",value:function(t,r){if(null==r)return!1;for(var e=s.c.sub(t,r),n=0;n<this.npages;n++)if(Math.abs(e.get(n,0))>.001)return!1;return!0}},{key:\"sortPageRank\",value:function(){for(var t=[],r=0;r<this.npages;r++)t.push([r,this.pageRankMat.get(r,0)]);t.sort(function(t,r){return r[1]-t[1]}),this.sortedPRMat=t}},{key:\"getPagesTable\",value:function(t){var r=this;this.calculatePageRank(),this.sortPageRank();var e=\"<h3>Pages sorted by PageRank value</h3><hr>\";return e+=\"<table class='result-table'><tr><th>page #</th><th>PR</th><th>Keywords</th></tr>\",this.sortedPRMat.forEach(function(t){e+=\"<tr>\",e+=\"<td>\"+parseInt(t[0]+1)+\"</td>\",e+=\"<td>\"+t[1]+\"</td>\",e+=\"<td>\"+r.pageArray[t[0]].keywords.toString()+\"</td>\",e+=\"</tr>\"}),e+=\"</table>\"}},{key:\"getSearchResultAsTable\",value:function(t){var r=this,e=t.trim().toLowerCase(),s=\"<h3>Search result</h3><hr>\";s+=\"<table class='result-table'><tr><th>#</th><th>Keyword</th></tr>\";var n=!0;return this.sortedPRMat.forEach(function(t){var i=r.pageArray[t[0]];i.keywords.forEach(function(t){t.includes(e)&&(s+=\"<tr>\",s+=\"<td>\"+i.id+\"</td>\",s+=\"<td>\"+t+\"</td>\",s+=\"</tr>\",n=!1)})}),n&&(s+=\"<tr><td>-</td><td>-</td></tr>\"),s+=\"</table>\"}}])&&i(r.prototype,e),o&&i(r,o),t}();!function(){function t(t,e){(r=new o(t,e)).generateRandom();var s=r.getAdjacencyMatrixAsTable();document.getElementById(\"table-div\").innerHTML=s;var n=r.getPagesTable();document.getElementById(\"view-pages-div\").innerHTML=n}document.getElementById(\"reset-btn\").addEventListener(\"click\",function(){var e=document.getElementById(\"num-pages\").value,s=document.getElementById(\"num-links\").value,n=document.getElementById(\"error-message\");(document.getElementById(\"search-result-div\").innerHTML=\"\",e<4||e>40||s<1||s>e*(e-1))?(n.innerHTML=\"Check the following:<br>- Number of pages must be in [4,40] range.<br>- Number of links must be bigger than 0.<br>- Number of links must be less or equal than (pages x (pages - 1)).\",document.getElementById(\"view-pages-div\").innerHTML=\"\",r=null):(n.innerHTML=\"\",t(e,s))}),document.getElementById(\"search-btn\").addEventListener(\"click\",function(){if(null!=r){var t=document.getElementById(\"search\").value,e=document.getElementById(\"search-result-div\"),s=document.getElementById(\"error-message\");t.length<3?(e.innerHTML=\"\",s.innerHTML=\"Search string must be at least 3 characters.\"):(s.innerHTML=\"\",e.innerHTML=r.getSearchResultAsTable(t))}});var r=null;t(30,50)}()}]);","extractedComments":[]}